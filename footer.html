<!-- RodapÃ© - Version: 1.2 - December 2025 Update -->
<footer class="site-footer">
    <div class="footer-content">
        <a href="https://discord.gg/PwvzkGx" target="_blank" class="discord-banner">
            <img src="discord.png" alt="Discord" class="discord-logo">
            <div class="discord-text">
                <span data-translate="join-our">Junte-se ao nosso</span>
                <span>Discord</span>
            </div>
        </a>
        
        <div class="footer-divider"></div>
        
        <div class="footer-info">
            <p><strong>NGT Server</strong></p>
            <p class="footer-text-clickable" id="changelogTrigger" data-translate="footer-text">Â© 2025 - Sistema de Gerenciamento de MecÃ¢nicas</p>
        </div>
    </div>
</footer>

<!-- Modal de Changelog/Patch Notes -->
<div class="changelog-modal" id="changelogModal">
    <div class="changelog-modal-content">
        <div class="changelog-modal-header">
            <h2 data-translate="changelog-title">Update History</h2>
            <button class="close-modal-btn" id="closeChangelogBtn">&times;</button>
        </div>
        <div class="changelog-content">
            <div class="changelog-section">
                <h3>Version 1.2 - December 2025</h3>
                <ul>
                    <li><strong>Global Search System:</strong> New universal search bar accessible from all pages to quickly find content</li>
                    <li><strong>34 Meta Events:</strong> Search includes all meta-events from Core Tyria to Visions of Eternity</li>
                    <li><strong>Smart Search:</strong> Real-time filtering with category organization (Core, HoT, PoF, EoD, SotO, JW, VoE)</li>
                    <li><strong>Keyboard Shortcuts:</strong> Press Ctrl+K to open search instantly from anywhere</li>
                    <li><strong>Responsive Design:</strong> Optimized search bar positioning and spacing for mobile and tablet devices</li>
                    <li><strong>Performance:</strong> Improved page load times with dynamic header loading system</li>
                </ul>
            </div>
            <div class="changelog-section">
                <h3>Version 1.1 - November 2025</h3>
                <ul>
                    <li><strong>Favorites System:</strong> New favorites button on all pages to quickly access your favorite content</li>
                    <li><strong>Favorites Modal:</strong> Modal with organized categories (Fractals, Raids, Strikes, Meta Events)</li>
                    <li><strong>Quick Access:</strong> Click the heart button on any page to add/remove from favorites</li>
                    <li><strong>Persistent Storage:</strong> Favorites are saved locally and persist across sessions</li>
                </ul>
            </div>
            <div class="changelog-section">
                <h3>Version 1.0 - November 2025</h3>
                <ul>
                    <li><strong>Mechanic Badges Redesign:</strong> Complete visual overhaul of mechanic badges system</li>
                    <li><strong>Modern Glassmorphism:</strong> New translucent design with colored borders instead of solid gradients</li>
                    <li><strong>Cleaner Interface:</strong> Removed emoji icons for a more professional and minimalist look</li>
                    <li><strong>Enhanced Critical Badge:</strong> Improved pulse animation for wipe mechanics - faster cycle (1.5s) with glow effect</li>
                    <li><strong>Better Hover Effects:</strong> Smooth transitions with opacity and border color changes on hover</li>
                    <li><strong>10 Badge Types:</strong> Stack, Spread, Coordination, CC, Critical, Focus, Dodge, Defensive, Position, and Timer</li>
                    <li><strong>Site-wide Application:</strong> Updated across all 68 fractal pages, 14 strike pages, and 30 raid pages</li>
                </ul>
            </div>
            <div class="changelog-section">
                <h3>Version 0.9 - November 2025</h3>
                <ul>
                    <li><strong>Meta-Events Detail Pages:</strong> Added 33 comprehensive pages covering all GW2 meta-events (2012-2024)</li>
                    <li><strong>Full Coverage:</strong> Expansions included - Core Tyria, HoT, PoF, EoD, SotO, and Janthir Wilds</li>
                    <li><strong>Living World:</strong> Complete Season 1-4 meta-event guides with mechanics and rewards</li>
                    <li><strong>The Icebrood Saga:</strong> Grothmar Valley, Bjora Marches (Drakkar), and Dragonstorm pages</li>
                    <li><strong>End of Dragons:</strong> Seitung Province, New Kaineng City, Echovald Wilds, and Dragon's End</li>
                    <li><strong>Secrets of the Obscure:</strong> Skywatch Archipelago (Decima), Inner Nayos (Eparch), and Defense of Amnytas</li>
                    <li><strong>Janthir Wilds:</strong> Latest expansion with Janthir Syntri (Stoic Rampart) and Lowland Shore (Greer)</li>
                    <li><strong>528 Translations:</strong> All meta pages fully translated in Portuguese, English, and Spanish</li>
                    <li><strong>Smart Navigation:</strong> 80+ event mappings - click any event in timeline to open its detail page</li>
                    <li><strong>Flashcard System:</strong> 8 mechanics cards per meta with location, phases, bosses, and rewards</li>
                </ul>
            </div>
            <div class="changelog-section">
                <h3>Version 0.8 - November 2025</h3>
                <ul>
                    <li><strong>Visions of Eternity:</strong> Added new expansion to Meta Events with 3 new maps and 9 events</li>
                    <li><strong>Castora Day/Night Cycle:</strong> Real-time day and night cycle tracking for Castora map</li>
                    <li><strong>Shipwreck Strand Events:</strong> Added Cuttlefish Cove, The Unkindness of Ravens, and The Lost Pirate King</li>
                    <li><strong>Starlit Weald Events:</strong> Added Starlight Bloom, Constellations in the Caves, and The Ever-Flowering Grove</li>
                    <li><strong>VoE Filter:</strong> New dedicated filter button to show only Visions of Eternity events</li>
                    <li><strong>Waypoint Support:</strong> All new events include clickable waypoints for easy in-game navigation</li>
                    <li><strong>PWA Support:</strong> Site can now be installed as an app on mobile devices (Android/iOS)</li>
                    <li><strong>Pull-to-Refresh:</strong> Native mobile refresh gesture now works properly</li>
                    <li><strong>Modal Improvements:</strong> Settings and changelog modals now open correctly at viewport top</li>
                    <li><strong>Footer Optimization:</strong> Better spacing and positioning on mobile devices</li>
                    <li><strong>Performance:</strong> Improved page loading and rendering speed</li>
                </ul>
            </div>
            <div class="changelog-section">
                <h3>August 2025</h3>
                <ul>
                    <li><strong>Flashcard System:</strong> Added functionality to create and manage custom mechanics</li>
                    <li><strong>CM Mode:</strong> Support for Challenge Mode mechanics in raids and fractals</li>
                    <li><strong>Quick Copy:</strong> Button to copy mechanic text to the clipboard</li>
                    <li><strong>Responsive Design:</strong> Interface adapted for desktop and mobile</li>
                    <li><strong>Import/Export System:</strong> You can now export and import all your custom mechanics in a single JSON file</li>
                    <li><strong>Settings Button:</strong> New gear button on all pages for quick access to settings</li>
                    <li><strong>Multilingual Support:</strong> Full translation system for Portuguese, English, and Spanish</li>
                    <li><strong>UI Improvements:</strong> Modernized interface with gradients and smooth animations</li>
                    <li><strong>Content Organization:</strong> All Fractal, Strike, and Raid mechanics organized and translated</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
// Configurar modal de changelog
(function() {
    function setupChangelogModal() {
        const changelogTrigger = document.getElementById('changelogTrigger');
        const changelogModal = document.getElementById('changelogModal');
        const closeBtn = document.getElementById('closeChangelogBtn');
        
        if (changelogTrigger && changelogModal) {
            // Abrir modal ao clicar no texto do footer
            changelogTrigger.addEventListener('click', function(e) {
                e.preventDefault();
                // Garantir que o modal apareÃ§a no topo da viewport
                window.scrollTo({top: 0, left: 0, behavior: 'instant'});
                document.body.style.overflow = 'hidden';
                changelogModal.style.display = 'flex';
                changelogModal.scrollTop = 0;
            });
            
            // Fechar modal ao clicar no X
            if (closeBtn) {
                closeBtn.addEventListener('click', function() {
                    changelogModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                });
            }
            
            // Fechar modal ao clicar fora do conteÃºdo
            changelogModal.addEventListener('click', function(event) {
                if (event.target === changelogModal) {
                    changelogModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        }
    }
    
    // Executar setup
    setupChangelogModal();
    
    // Backup se o DOM ainda estiver carregando
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', setupChangelogModal);
    }
})();

// FORÃ‡A o footer a ser fixo (correÃ§Ã£o crÃ­tica)
(function() {
    function ensureFooterFixed() {
        const footer = document.querySelector('.site-footer') || document.querySelector('footer');
        if (footer) {
            footer.style.position = 'fixed';
            footer.style.bottom = '0';
            footer.style.left = '0';
            footer.style.right = '0';
            footer.style.zIndex = '9999';
            footer.style.width = '100%';
        }
    }
    
    // Executar imediatamente
    ensureFooterFixed();
    
    // Executar apÃ³s load
    window.addEventListener('load', ensureFooterFixed);
    
    // Executar apÃ³s um pequeno delay (caso seja carregado dinamicamente)
    setTimeout(ensureFooterFixed, 100);
    setTimeout(ensureFooterFixed, 500);
})();
</script>

